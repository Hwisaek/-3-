<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.customerCenter">
	
	<!-- faq 카테고리 목록 조회 -->
	<select id="selectQnaCategories" resultType="com.yomul.vo.CategoryVO">
		SELECT NO, CONTENT 
		FROM YOMUL_QNA_CATEGORIES 
		ORDER BY NO
	</select>
	
	<!-- faq 카테고리 목록 조회 -->
	<select id="selectFaqCategories" resultType="com.yomul.vo.CategoryVO">
		select no, content
		from yomul_faq_categories
		order by no asc
	</select>
	
	<!-- faq 목록 조회 -->
	<select id="selectFaqList" resultType="com.yomul.vo.FaqVO">
		select category, title, content
		from yomul_faq_articles
		order by no asc
	</select>
	
	<!-- 사용자 공지사항 목록 조회 -->
	<select id="selectNoticeList" resultType="com.yomul.vo.NoticeVO">
		select substr(no, 2) as no, title, ndate
		from yomul_notices
		order by no desc
	</select>
	
	<!-- 사용자 공지사항 상세 조회 -->
	<select id="selectNoticeInfo" resultType="com.yomul.vo.NoticeVO" parameterType="java.lang.String">
		select title, content, ndate, hits
		from yomul_notices
		where no = #{no}
	</select>
	
	<!-- 공지사항 조회수 업데이트 -->
	<update id="updateNoticeHits" parameterType="java.lang.String">
		update yomul_notices
		set hits = hits + 1
		where no = #{no}
	</update>
</mapper>