-- 제약 조건 명명 규칙
-- '제약조건 축약어'_Y_'자기테이블 축약어'_['상대테이블 축약어']_속성명

-- DB 초기화
-- 뷰 삭제
DROP VIEW V_Y_MEMBERS;
DROP VIEW V_Y_LIKE_COUNT;
DROP VIEW V_Y_FILE_COUNT;
DROP VIEW V_Y_REPORT_COUNT;
DROP VIEW V_Y_COMMENTS;
DROP VIEW V_Y_COMMENTS_LIKE_COUNT;
DROP VIEW V_Y_COMMENTS_REPORT_COUNT;
DROP VIEW V_Y_VENDORS;
DROP VIEW V_Y_VENDORS_NEWS;
DROP VIEW V_Y_VENDORS_CUSTOMERS;
DROP VIEW V_Y_VENDORS_REVIEWS;
DROP VIEW V_Y_FAQ_ARTICLES;
DROP VIEW V_Y_QNA_ARTICLES;
DROP VIEW V_Y_QNA_FILES;
DROP VIEW V_Y_NEAR_ARTICLES;
DROP VIEW V_Y_NEAR_FILES;
DROP VIEW V_Y_NOTICES;
DROP VIEW V_Y_NOTICE_FILES;
-- 테이블 삭제----------------------------------------------------------------------------------------------------------------------------------
DROP TABLE YOMUL_MEMBERS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_PRODUCT_CATEGORIES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_PRODUCTS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_FAVORITE_LISTS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_TRADE_HISTORY CASCADE CONSTRAINTS;
DROP TABLE YOMUL_CHATS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_TOWN_ARTICLES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_NEAR_ARTICLES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_VENDORS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_VENDOR_NEWS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_VENDOR_CUSTOMERS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_VENDOR_REVIEWS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_NOTICES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_FAQ_CATEGORIES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_FAQ_ARTICLES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_QNA_CATEGORIES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_QNA_ARTICLES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_FILES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_COMMENTS CASCADE CONSTRAINTS;
DROP TABLE YOMUL_LIKES CASCADE CONSTRAINTS;
DROP TABLE YOMUL_REPORTS CASCADE CONSTRAINTS;
-- 시퀀스 삭제----------------------------------------------------------------------------------------------------------------------------------
DROP SEQUENCE YOMUL_MEMBERS_NO_SEQ;
DROP SEQUENCE YOMUL_PRODUCTS_NO_SEQ;
DROP SEQUENCE YOMUL_TRADE_HISTORY_NO_SEQ;
DROP SEQUENCE YOMUL_CHATS_NO_SEQ;
DROP SEQUENCE YOMUL_TOWN_ARTICLES_NO_SEQ;
DROP SEQUENCE YOMUL_NEAR_ARTICLES_NO_SEQ;
DROP SEQUENCE YOMUL_VENDORS_NO_SEQ;
DROP SEQUENCE YOMUL_VENDOR_NEWS_NO_SEQ;
DROP SEQUENCE YOMUL_VENDOR_REVIEWS_NO_SEQ;
DROP SEQUENCE YOMUL_NOTICES_NO_SEQ;
DROP SEQUENCE YOMUL_FAQ_ARTICLES_NO_SEQ;
DROP SEQUENCE YOMUL_QNA_ARTICLES_NO_SEQ;
DROP SEQUENCE YOMUL_COMMENTS_NO_SEQ;
DROP SEQUENCE YOMUL_TRADE_HISTORY_SEQ;
-- 테이블 생성----------------------------------------------------------------------------------------------------------------------------------

-- 회원
CREATE TABLE YOMUL_MEMBERS(
    NO VARCHAR2(10), -- 회원번호
    EMAIL VARCHAR2(100) CONSTRAINT NN_Y_M_EMAIL NOT NULL CONSTRAINT U_Y_M_EMAIL UNIQUE, -- 이메일
    PW VARCHAR2(50) CONSTRAINT NN_Y_M_PW NOT NULL, -- 비밀번호
    NICKNAME VARCHAR2(50) CONSTRAINT NN_Y_M_NICKNAME NOT NULL CONSTRAINT U_Y_M_NICKNAME UNIQUE, -- 별명
    HASHSALT VARCHAR2(100) CONSTRAINT NN_Y_M_HASHSALT NOT NULL, -- 해쉬 솔트
    PHONE VARCHAR2(30), -- 전화번호
    GENDER VARCHAR2(5) CONSTRAINT C_Y_M_GENDER CHECK (GENDER IN('F', 'M')), -- 성별
    INTRO VARCHAR2(500), -- 자기소개
    KAKAO_ID VARCHAR2(100) CONSTRAINT U_Y_M_KAKAO_ID UNIQUE, -- 카카오 로그인 토큰
    AUTHORITY VARCHAR2(10) DEFAULT 'USER' CONSTRAINT NN_Y_M_AUTHORITY NOT NULL CONSTRAINT C_Y_M_AUTHORITY CHECK (AUTHORITY IN('USER', 'ADMIN')), -- 권한
    WITHDRAWAL NUMBER(1) DEFAULT 0 CONSTRAINT C_Y_M_WITHDRAWAL CHECK (WITHDRAWAL IN(0, 1)) CONSTRAINT NN_Y_M_WITHDRAWAL NOT NULL, -- 탈퇴 요청 여부
    MDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_M_MDATE NOT NULL, -- 가입 일자
    SUBSCRIBE VARCHAR2(3) DEFAULT 'off' CONSTRAINT NN_Y_M_SUBSCRIBE NOT NULL CONSTRAINT C_Y_M_SUBSCRIBE CHECK (SUBSCRIBE IN ('on', 'off')), -- 구독, OFF: 구독안함, ON: 구독함
    CONSTRAINT PK_Y_M_NO PRIMARY KEY(NO)
);

-- 물건 카테고리
CREATE TABLE YOMUL_PRODUCT_CATEGORIES(
  NO NUMBER(5), -- 카테고리 번호 
  CONTENT VARCHAR2(100) CONSTRAINT NN_Y_PC_CONTENT NOT NULL CONSTRAINT U_Y_PC_CONTENT UNIQUE, -- 카테고리 내용
  CONSTRAINT PK_Y_PC_NO PRIMARY KEY(NO)
);

-- 물건 정보
CREATE TABLE YOMUL_PRODUCTS(
    NO VARCHAR2(10), -- 물건 번호
    CATEGORY_NO NUMBER(5) CONSTRAINT NN_Y_P_CATEGORY_NO NOT NULL, -- 물건 카테고리
    SELLER VARCHAR2(10) CONSTRAINT NN_Y_P_SELLER NOT NULL, -- 등록자
    TITLE VARCHAR2(100) CONSTRAINT NN_Y_P_TITLE NOT NULL, -- 글 제목
    CONTENT VARCHAR2(500) CONSTRAINT NN_Y_P_CONTENT NOT NULL, -- 글 내용
    PRICE NUMBER(20) CONSTRAINT NN_Y_P_PRICE NOT NULL CONSTRAINT C_Y_P_PRICE CHECK (PRICE >= 0), -- 가격
    STATE VARCHAR2(20) DEFAULT 'SELLING' CONSTRAINT NN_Y_P_STATE NOT NULL CONSTRAINT C_Y_P_STATE CHECK (STATE IN('SELLING', 'SOLD')), -- 물건 상태
    HITS NUMBER(10) DEFAULT 0 CONSTRAINT NN_Y_P_HITS NOT NULL CONSTRAINT C_Y_P_HITS CHECK (HITS >= 0), -- 조회수
    PDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_P_PDATE NOT NULL, -- 등록일자
    LOCATION VARCHAR2(200) CONSTRAINT NN_Y_P_LOCATION NOT NULL, -- 판매 지역
    CONSTRAINT PK_Y_P_NO PRIMARY KEY(NO),
    CONSTRAINT FK_Y_P_M_SELLER FOREIGN KEY (SELLER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_P_PC_CATEGORY_NO FOREIGN KEY (CATEGORY_NO) REFERENCES YOMUL_PRODUCT_CATEGORIES(NO) ON DELETE CASCADE
);

-- 찜 목록
CREATE TABLE YOMUL_FAVORITE_LISTS(
  MEMBER_NO VARCHAR2(10) CONSTRAINT NN_Y_FL_EMAIL NOT NULL, -- 찜한 유저
  PRODUCT_NO VARCHAR2(10) CONSTRAINT NN_Y_FL_PRODUCT_NO NOT NULL, -- 찜 된 물건
  FDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_FL_FDATE NOT NULL, -- 찜한 날자
  CONSTRAINT FK_Y_FL_M_EMAIL FOREIGN KEY (MEMBER_NO) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE,
  CONSTRAINT FK_Y_FL_P_NO FOREIGN KEY (PRODUCT_NO) REFERENCES YOMUL_PRODUCTS(NO) ON DELETE CASCADE
);

-- 물건 거래 내역
CREATE TABLE YOMUL_TRADE_HISTORY(
  NO VARCHAR2(10), -- 거래 번호
  PRODUCT_NO VARCHAR2(10)  CONSTRAINT NN_Y_T_H_NO NOT NULL, -- 물건 번호
  BUYER VARCHAR2(10) CONSTRAINT NN_Y_TH_BUYER NOT NULL,  -- 구매자
  TRADE_DATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_TH_TDATE NOT NULL, -- 거래일시
  CONSTRAINT PK_Y_TH_NO PRIMARY KEY(NO),
  CONSTRAINT FK_Y_TH_PRODUCTS FOREIGN KEY(PRODUCT_NO) REFERENCES YOMUL_PRODUCTS(NO) ON DELETE CASCADE,
  CONSTRAINT FK_Y_TH_M_BUYER FOREIGN KEY(BUYER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 채팅
CREATE TABLE YOMUL_CHATS(
    NO VARCHAR2(10), -- 채팅 번호 
    CHAT_FROM VARCHAR2(10) CONSTRAINT NN_Y_C_CHAT_FROM NOT NULL, -- 채팅 발신자
    CHAT_TO VARCHAR2(10) CONSTRAINT NN_Y_C_CHAT_TO NOT NULL, -- 채팅 수신자
    CONTENT VARCHAR2(3000) CONSTRAINT NN_Y_C_CONTENT NOT NULL, -- 채팅 내용
    CDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_C_CDATE NOT NULL, -- 채팅 전송 시간
    IMG VARCHAR2(100), -- 전송 이미지
    CONSTRAINT PK_Y_CH_NO PRIMARY KEY(NO) ,
    CONSTRAINT FK_Y_CH_M_CHAT_FROM FOREIGN KEY (CHAT_FROM) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_CH_M_CHAT_TO FOREIGN KEY (CHAT_TO) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 동네생활 게시글
CREATE TABLE YOMUL_TOWN_ARTICLES(
    NO VARCHAR2(10), -- 게시글 번호
    WRITER VARCHAR2(10) CONSTRAINT NN_Y_TA_WRITER NOT NULL, -- 작성자
    CATEGORY VARCHAR2(20) CONSTRAINT NN_Y_TA_CATEGORY NOT NULL, -- 카테고리
    TITLE VARCHAR2(100) CONSTRAINT NN_Y_TA_TITLE NOT NULL, -- 제목
    CONTENT VARCHAR2(500) CONSTRAINT NN_Y_TA_CONTENT NOT NULL, -- 내용
    HITS NUMBER(10) DEFAULT 0 CONSTRAINT NN_Y_TA_HITS NOT NULL CONSTRAINT C_Y_TA_HITS CHECK (HITS >= 0), -- 조회수
    TDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_TA_TDATE NOT NULL, -- 작성 일자
    CONSTRAINT PK_Y_TA_NO PRIMARY KEY(NO),
    CONSTRAINT FK_Y_TA_M_WRITER FOREIGN KEY (WRITER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 업체정보
CREATE TABLE YOMUL_VENDORS(
    NO VARCHAR2(10), -- 업체 번호
    OWNER VARCHAR2(10) CONSTRAINT NN_Y_V_OWNER NOT NULL CONSTRAINT U_Y_V_OWNER UNIQUE, --회원번호
    NAME VARCHAR2(50) CONSTRAINT NN_Y_V_NAME NOT NULL CONSTRAINT U_Y_V_NAME UNIQUE, --업체명
    CATEGORY VARCHAR2(20) CONSTRAINT NN_Y_V_CATEGORY NOT NULL, --카테고리 
    INFO VARCHAR2(200) CONSTRAINT NN_Y_V_INFO NOT NULL, --정보 
    TEL VARCHAR2(30) CONSTRAINT NN_Y_V_TEL NOT NULL, --전화번호 
    ADDR VARCHAR2(50) CONSTRAINT NN_Y_V_ADDR NOT NULL, --주소
	WITHDRAWAL NUMBER(1) DEFAULT 0 CONSTRAINT C_Y_V_WITHDRAWAL CHECK (WITHDRAWAL IN(0, 1)) CONSTRAINT NN_Y_V_WITHDRAWAL NOT NULL, -- 탈퇴 요청 여부
    CONSTRAINT PK_Y_V_NO PRIMARY KEY (NO),
    CONSTRAINT FK_Y_V_OWNER FOREIGN KEY (OWNER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 내 근처 게시글
CREATE TABLE YOMUL_NEAR_ARTICLES(
    NO VARCHAR2(10), --상품 게시글 번호
    WRITER VARCHAR2(10) CONSTRAINT NN_Y_NA_WRITER NOT NULL, -- 작성자
    VENDOR VARCHAR2(10), -- 작성 업체
    TITLE VARCHAR2(50) CONSTRAINT NN_Y_NA_TITLE NOT NULL, -- 상품 제목
    CATEGORY VARCHAR2(20) CONSTRAINT NN_Y_NA_CATEGORY NOT NULL, -- 카테고리
    PRICE NUMBER(30) CONSTRAINT C_Y_NA_PRICE CHECK (PRICE >= 0), --가격(선택)
    HP VARCHAR2(50), --핸드폰 번호(선택)
    CONTENT VARCHAR2(1000) CONSTRAINT NN_Y_NA_CONTENT NOT NULL, --본문 내용
    NDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_NA_NDATE NOT NULL, --작성 일자
    MAINFILE VARCHAR2(50) DEFAULT 'default.jpg', -- 메인 이미지
    CHATCHECK NUMBER(1) DEFAULT 0 CONSTRAINT NN_Y_NA_CHATCHECK NOT NULL CONSTRAINT C_Y_NA_CHATCHECK CHECK (CHATCHECK IN(0, 1)),  -- 채팅 금지 여부 DEFAULT 0 
    HITS NUMBER(10) DEFAULT 0 CONSTRAINT NN_Y_NA_HITS NOT NULL CONSTRAINT C_Y_NA_HITS CHECK (HITS >= 0), -- 조회수
    CONSTRAINT PK_Y_NA_NO PRIMARY KEY(NO),
    CONSTRAINT FK_Y_NA_WRITER FOREIGN KEY (WRITER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_NA_VENDOR FOREIGN KEY (VENDOR) REFERENCES YOMUL_VENDORS(NO) ON DELETE CASCADE
);

-- 업체 단골 (회원번호 이용하여 단골 프필이미지, 닉네임 가져오기)
CREATE TABLE YOMUL_VENDOR_CUSTOMERS(
    VENDOR_NO VARCHAR2(10), --업체번호
    CUSTOMER_NO VARCHAR2(10), --회원번호
    CONSTRAINT PK_Y_VC PRIMARY KEY(VENDOR_NO, CUSTOMER_NO),
    CONSTRAINT FK_Y_VC_VNO FOREIGN KEY (VENDOR_NO) REFERENCES YOMUL_VENDORS(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_VC_CNO FOREIGN KEY (CUSTOMER_NO) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 업체 후기 (회원번호 이용하여 단골 프필이미지, 닉네임 가져오기)
CREATE TABLE YOMUL_VENDOR_REVIEWS(
    NO VARCHAR2(10), --후기 번호
    VENDOR_NO VARCHAR2(10) CONSTRAINT NN_Y_VR_VENDOR_NO NOT NULL,  --업체 번호
    MEMBER_NO VARCHAR2(10)CONSTRAINT NN_Y_VR_MEMBER_NO NOT NULL, --회원번호
    CONTENT VARCHAR2(500) CONSTRAINT NN_Y_VR_CONTENT NOT NULL, --후기 내용
    HITS NUMBER(10) DEFAULT 0 CONSTRAINT NN_Y_VR_HITS NOT NULL CONSTRAINT C_Y_VR_HITS CHECK (HITS >= 0), --조회수
    VDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_VR_VDATE NOT NULL, --날짜
    CONSTRAINT PK_Y_VR_NO PRIMARY KEY (NO),
    CONSTRAINT FK_Y_VR_VENDOR_NO FOREIGN KEY (VENDOR_NO) REFERENCES YOMUL_VENDORS(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_VR_MEMBER_NO FOREIGN KEY (MEMBER_NO) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 공지사항
CREATE TABLE YOMUL_NOTICES(
    NO VARCHAR2(10), -- 글 번호
    WRITER VARCHAR2(10) CONSTRAINT NN_Y_N_WRITER NOT NULL, -- 작성자
    TITLE VARCHAR2(100) CONSTRAINT NN_Y_N_TITLE NOT NULL, -- 제목
    CONTENT VARCHAR2(400) CONSTRAINT NN_Y_N_CONTENT NOT NULL, -- 내용
    NDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_N_NDATE NOT NULL, -- 작성일자
    HITS NUMBER(10) DEFAULT 0 CONSTRAINT NN_Y_N_HITS NOT NULL CONSTRAINT C_Y_N_HITS CHECK (HITS >= 0), -- 조회수
    CONSTRAINT PK_Y_N_NO PRIMARY KEY(NO),
    CONSTRAINT FK_Y_N_WRITER FOREIGN KEY (WRITER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- FAQ 카테고리
CREATE TABLE YOMUL_FAQ_CATEGORIES(
    NO NUMBER(4), -- 카테고리 코드
    CONTENT VARCHAR2(100) CONSTRAINT NN_Y_FC_CONTENT NOT NULL, -- 카테고리 내용
    CONSTRAINT PK_Y_FC_NO PRIMARY KEY (NO)
);

-- FAQ 게시글
CREATE TABLE YOMUL_FAQ_ARTICLES(
    NO VARCHAR2(10), -- 글 번호
    CATEGORY NUMBER(4) CONSTRAINT NN_Y_FA_CATEGORY NOT NULL, -- 카테고리
    WRITER VARCHAR2(10) CONSTRAINT NN_Y_FA_WRITER NOT NULL, -- 작성자
    TITLE VARCHAR2(100) CONSTRAINT NN_Y_FA_TITLE NOT NULL, -- 제목
    CONTENT VARCHAR2(500) CONSTRAINT NN_Y_FAQ_ARTICLES_CONTENT NOT NULL, -- 내용
    CONSTRAINT PK_Y_FA_NO PRIMARY KEY (NO),
    CONSTRAINT FK_Y_FA_FAQ_CATEGORIES FOREIGN KEY (CATEGORY) REFERENCES YOMUL_FAQ_CATEGORIES(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_FA_WRITER FOREIGN KEY (WRITER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- QNA 카테고리
CREATE TABLE YOMUL_QNA_CATEGORIES(
    NO NUMBER(4), -- 코드
    CONTENT VARCHAR2(100) CONSTRAINT NN_Y_Q_CATEGORIES NOT NULL, -- 카테고리 내용
    CONSTRAINT PK_Y_QC_NO PRIMARY KEY (NO)
);

-- QNA 게시글
CREATE TABLE YOMUL_QNA_ARTICLES(
    NO VARCHAR2(10), -- 글 번호
    NAME VARCHAR2(50) CONSTRAINT NN_Y_QA_NAME NOT NULL, -- 작성자 이름
    EMAIL VARCHAR2(100) CONSTRAINT NN_Y_QA_EMAIL NOT NULL, -- 작성자 회원번호
    PW VARCHAR2(50) CONSTRAINT NN_Y_QA_PW NOT NULL, -- 비밀번호
    HASHSALT VARCHAR2(100) CONSTRAINT NN_Y_QA_HASHSALT NOT NULL, -- 해쉬 솔트
    WDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_QA_WDATE NOT NULL, -- 작성 일자
    CATEGORY NUMBER(4) CONSTRAINT NN_Y_QA_CATEGORY NOT NULL, -- 작성 글 카테고리
    TITLE VARCHAR2(100) CONSTRAINT NN_Y_QA_TITLE NOT NULL, -- 제목
    CONTENT VARCHAR2(500) CONSTRAINT NN_Y_QA_CONTENT NOT NULL, -- 내용
    HITS NUMBER(10) DEFAULT 0 CONSTRAINT NN_Y_QA_HITS NOT NULL CONSTRAINT C_Y_QA_HITS CHECK (HITS >= 0), -- 조회수
    REPLY NUMBER(1) DEFAULT 0 CONSTRAINT NN_Y_QA_REPLY NOT NULL CONSTRAINT C_Y_QA_REPLY CHECK (REPLY IN(0, 1)), -- 답변 유무, 0 이면 답변 없음
    RDATE DATE, -- 답변 날짜
    RWRITER VARCHAR2(10), -- 답변 작성자 회원번호
    RTITLE VARCHAR2(100), -- 답변 작성 제목
    RCONTENT VARCHAR2(500), -- 답변 작성 내용
    SECRET VARCHAR2(3) DEFAULT 'off' CONSTRAINT NN_Y_QA_SECRET NOT NULL CONSTRAINT C_Y_QA_SECRET CHECK (SECRET IN ('on', 'off')), -- 구독, OFF: 구독안함, ON: 구독함
    CONSTRAINT PK_Y_QA_NO PRIMARY KEY (NO),
    CONSTRAINT FK_Y_QA_M_RWRITER FOREIGN KEY (RWRITER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE,
    CONSTRAINT FK_Y_QA_QC_CATEGORY FOREIGN KEY (CATEGORY) REFERENCES YOMUL_QNA_CATEGORIES(NO) ON DELETE CASCADE
);

-- 업로드 된 파일 
-- 실제로 저장된 파일 명은 ('게시글 번호'_'파일 번호'_'파일 명') 식으로 저장 ex(n001_1_example_jpg)
CREATE TABLE YOMUL_FILES(
    ARTICLE_NO VARCHAR2(50) CONSTRAINT NN_Y_F_ARTICLE_NO NOT NULL, -- 작성된 게시글 번호
    NO NUMBER(10), -- 파일 번호
    FILENAME VARCHAR2(100) CONSTRAINT NN_Y_F_FILENAME NOT NULL, -- 파일 명
    CONSTRAINT PK_Y_F_NO PRIMARY KEY (ARTICLE_NO, NO, FILENAME)
);

-- 댓글
CREATE TABLE YOMUL_COMMENTS(
  NO VARCHAR2(10), -- 댓글 번호
  ARTICLE_NO VARCHAR2(10) CONSTRAINT NN_Y_CO_ARTICLE_NO NOT NULL, -- 작성된 게시글 번호
  WRITER VARCHAR2(10) CONSTRAINT NN_Y_CO_WRITER NOT NULL, -- 작성자 회원번호
  CONTENT VARCHAR2(1000) CONSTRAINT NN_Y_CO_CONTENT NOT NULL, -- 작성 내용
  WDATE DATE DEFAULT SYSDATE CONSTRAINT NN_Y_CO_WDATE NOT NULL, -- 작성일자
  CONSTRAINT PK_Y_CO_NO PRIMARY KEY (NO),
  CONSTRAINT FK_Y_CO_M_WRITER FOREIGN KEY(WRITER) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 게시글, 댓글 좋아요 테이블
CREATE TABLE YOMUL_LIKES(
    ARTICLE_NO VARCHAR2(10), -- 좋아요 눌린 게시글 번호
    MEMBER_NO VARCHAR2(10),  -- 좋아요 누른 사람
    CONSTRAINT PK_Y_L PRIMARY KEY (ARTICLE_NO, MEMBER_NO),
    CONSTRAINT FK_Y_L_M_MEMBER_NO FOREIGN KEY (MEMBER_NO) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);

-- 신고
CREATE TABLE YOMUL_REPORTS(
    ARTICLE_NO VARCHAR2(10), -- 신고 눌린 게시글 번호
    MEMBER_NO VARCHAR2(10), -- 신고 누른 사람
    CONSTRAINT PK_Y_R PRIMARY KEY (ARTICLE_NO, MEMBER_NO),
    CONSTRAINT FK_Y_R_M_MEMBER_NO FOREIGN KEY (MEMBER_NO) REFERENCES YOMUL_MEMBERS(NO) ON DELETE CASCADE
);
-- 테이블 생성 끝----------------------------------------------------------------------------------------------------------------------------------

-- 뷰 생성 ---------------------------------------------------------------------------------------------------------------------------------------
-- 사용자 뷰 생성(사용자 + 이미지)
CREATE NOFORCE VIEW V_Y_MEMBERS
AS
SELECT M.NO, M.EMAIL, M.PW, M.NICKNAME, M.PHONE, M.GENDER, M.INTRO, M.AUTHORITY, M.WITHDRAWAL, M.MDATE, M.SUBSCRIBE, M.KAKAO_ID, F.ARTICLE_NO||'_'||F.NO||'_'||F.FILENAME PROFILEIMG
FROM YOMUL_MEMBERS M, YOMUL_FILES F
WHERE M.NO = F.ARTICLE_NO(+);

-- 좋아요 수 뷰 생성
CREATE NOFORCE VIEW V_Y_LIKE_COUNT
AS
SELECT ARTICLE_NO NO, COUNT(ARTICLE_NO) LIKES
FROM YOMUL_LIKES
GROUP BY ARTICLE_NO
WITH READ ONLY;

-- 파일 수 뷰 생성
CREATE NOFORCE VIEW V_Y_FILE_COUNT
AS
SELECT ARTICLE_NO NO, COUNT(ARTICLE_NO) FILES
FROM YOMUL_FILES
GROUP BY ARTICLE_NO
WITH READ ONLY;

-- 신고 수 뷰 생성
CREATE NOFORCE VIEW V_Y_REPORT_COUNT
AS
SELECT ARTICLE_NO NO, COUNT(ARTICLE_NO) REPORTS
FROM YOMUL_REPORTS
GROUP BY ARTICLE_NO
WITH READ ONLY;

-- 댓글 정보 뷰 생성(댓글 + 좋아요 수 + 신고 수 + 이미지)
CREATE NOFORCE VIEW V_Y_COMMENTS
AS
SELECT C.NO, C.ARTICLE_NO, C.WRITER, C.CONTENT, C.WDATE, L.LIKES, R.REPORTS, F.ARTICLE_NO||'_'||F.NO||'_'||F.FILENAME IMG
FROM YOMUL_COMMENTS C, V_Y_LIKE_COUNT L, V_Y_REPORT_COUNT R, YOMUL_FILES F
WHERE C.NO = L.NO(+) AND C.NO = R.NO(+) AND C.NO = F.ARTICLE_NO(+);

-- 업체 소식 수 뷰 생성
CREATE NOFORCE VIEW V_Y_VENDORS_NEWS
AS
SELECT V.NO, COUNT(N.VENDOR) NEWS
FROM YOMUL_VENDORS V, YOMUL_NEAR_ARTICLES N
WHERE V.NO = N.VENDOR(+)
GROUP BY V.NO, N.VENDOR
WITH READ ONLY;

-- 업체 단골 수 뷰 생성
CREATE NOFORCE VIEW V_Y_VENDORS_CUSTOMERS
AS
SELECT V.NO, COUNT(C.VENDOR_NO) CUSTOMERS
FROM YOMUL_VENDORS V, YOMUL_VENDOR_CUSTOMERS C
WHERE V.NO = C.VENDOR_NO(+)
GROUP BY V.NO, C.VENDOR_NO
WITH READ ONLY;

-- 업체 후기 수 뷰 생성
CREATE NOFORCE VIEW V_Y_VENDORS_REVIEWS
AS
SELECT V.NO, COUNT(R.VENDOR_NO) REVIEWS
FROM YOMUL_VENDORS V, YOMUL_VENDOR_REVIEWS R
WHERE V.NO = R.VENDOR_NO(+)
GROUP BY V.NO, R.VENDOR_NO
WITH READ ONLY;

-- 업체 정보 뷰 생성(업체 정보 + 소식 수 + 단골 수 + 후기 수 + 이미지명)
CREATE NOFORCE VIEW V_Y_VENDORS
AS
SELECT V.NO, V.OWNER, V.NAME, V.CATEGORY, V.INFO, V.TEL, V.ADDR, V.WITHDRAWAL, N.NEWS, C.CUSTOMERS, R.REVIEWS, F.ARTICLE_NO||'_'||F.NO||'_'||F.FILENAME IMG
FROM YOMUL_VENDORS V, V_Y_VENDORS_NEWS N, V_Y_VENDORS_CUSTOMERS C, V_Y_VENDORS_REVIEWS R, YOMUL_FILES F
WHERE V.NO = N.NO AND V.NO = C.NO AND V.NO = R.NO AND V.NO = F.ARTICLE_NO(+);

-- FAQ 뷰 생성(faq + 카테고리)
CREATE NOFORCE VIEW V_Y_FAQ_ARTICLES
AS
SELECT F.NO, F.CATEGORY CATEGORY_NO, C.CONTENT AS CATEGORY, F.WRITER, F.TITLE, F.CONTENT
FROM YOMUL_FAQ_ARTICLES F, YOMUL_FAQ_CATEGORIES C
WHERE F.CATEGORY = C.NO;

-- QNA 뷰 생성(qna + 카테고리 + 이미지 수)
CREATE NOFORCE VIEW V_Y_QNA_ARTICLES
AS
SELECT Q.NO, Q.NAME, Q.EMAIL, Q.PW, Q.HASHSALT, Q.WDATE, Q.CATEGORY CATEGORY_NO, C.CONTENT CATEGORY, Q.TITLE, Q.CONTENT, Q.HITS, 
	Q.RDATE, Q.RWRITER, Q.RCONTENT, Q.SECRET, F.FILES
FROM YOMUL_QNA_ARTICLES Q, YOMUL_QNA_CATEGORIES C, V_Y_FILE_COUNT F
WHERE Q.CATEGORY = C.NO AND Q.NO = F.NO(+);

-- 내 근처 게시글 뷰 생성(내 근처 게시글 + 작성자/업체 프로필 이미지 + 이미지 수 + 좋아요 수 + 신고 수)
CREATE NOFORCE VIEW V_Y_NEAR_ARTICLES
AS
SELECT N.NO, M.NICKNAME WRITER, M.PROFILEIMG MIMG, V.NO VNO, V.NAME VNAME, V.IMG VIMG, N.TITLE, N.CATEGORY, N.PRICE, N.HP, N.CONTENT, N.NDATE, N.CHATCHECK, N.HITS, F.FILES , N.MAINFILE, L.LIKES, R.REPORTS
FROM YOMUL_NEAR_ARTICLES N, V_Y_MEMBERS M, V_Y_VENDORS V, V_Y_FILE_COUNT F, V_Y_LIKE_COUNT L, V_Y_REPORT_COUNT R
WHERE N.NO = F.NO(+) AND N.WRITER = M.NO AND N.VENDOR = V.NO(+) AND N.NO = L.NO(+) AND N.NO = R.NO(+);

-- 공지사항 이미지 수 뷰 생성
CREATE NOFORCE VIEW V_Y_NOTICE_FILES
AS
SELECT N.NO, COUNT(F.ARTICLE_NO) AS FILES
FROM YOMUL_NOTICES N, YOMUL_FILES F
WHERE N.NO = F.ARTICLE_NO(+)
GROUP BY N.NO, F.ARTICLE_NO
WITH READ ONLY;

SELECT N.NO, M.NICKNAME WRITER, M.PROFILEIMG MIMG, V.NO VNO, V.NAME VNAME, V.IMG VIMG, N.TITLE, N.CATEGORY, N.PRICE, N.HP, N.CONTENT, N.NDATE, N.CHATCHECK, N.HITS, F.FILES, L.LIKES, R.REPORTS, N.MAINFILE
FROM YOMUL_NEAR_ARTICLES N, V_Y_MEMBERS M, V_Y_VENDORS V, V_Y_FILE_COUNT F, V_Y_LIKE_COUNT L, V_Y_REPORT_COUNT R
WHERE N.NO = F.NO(+) AND N.WRITER = M.NO AND N.VENDOR = V.NO(+) AND N.NO = L.NO(+) AND N.NO = R.NO(+);


-- 공지사항 뷰 생성(공지사항 + 이미지 수)
CREATE NOFORCE VIEW V_Y_NOTICES
AS
SELECT N.NO, N.WRITER, N.TITLE, N.CONTENT, N.NDATE, N.HITS, F.FILES
FROM YOMUL_NOTICES N, V_Y_FILE_COUNT F
WHERE N.NO = F.NO(+);

-- 뷰 생성 끝 ---------------------------------------------------------------------------------------------------------------------------------------

-- 시퀀스 생성----------------------------------------------------------------------------------------------------------------------------------
-- 회원 번호 시퀀스 생성, 1부터 시작, 1씩 증가, 메모리에 미리 올려 놓을 인덱스 개수 2
CREATE SEQUENCE YOMUL_MEMBERS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2; 

-- 물건 번호 시퀀스 생성
CREATE SEQUENCE YOMUL_PRODUCTS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 거래 번호 시퀀스 생성
CREATE SEQUENCE YOMUL_TRADE_HISTORY_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 채팅 번호 시퀀스 생성
CREATE SEQUENCE YOMUL_CHATS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 동네생활 글 번호 시퀀스 생성
CREATE SEQUENCE YOMUL_TOWN_ARTICLES_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 내 근처 게시글 시퀀스 생성
CREATE SEQUENCE YOMUL_NEAR_ARTICLES_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 업체 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_VENDORS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 업체 소식 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_VENDOR_NEWS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 업체 후기 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_VENDOR_REVIEWS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 공지사항 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_NOTICES_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- FAQ 글 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_FAQ_ARTICLES_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- QNA 글 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_QNA_ARTICLES_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 댓글 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_COMMENTS_NO_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;

-- 거래내역 번호 시퀀스 생성, 1부터 시작, 1씩 증가 
CREATE SEQUENCE YOMUL_TRADE_HISTORY_SEQ START WITH 1 INCREMENT BY 1 CACHE 2;
-- 시퀀스 생성 끝----------------------------------------------------------------------------------------------------------------------------------


-- 데이터 입력 시작----------------------------------------------------------------------------------------------------------------------------------
-- 회원 목록 조회
SELECT * FROM YOMUL_MEMBERS;

-- 이메일 중복 확인
SELECT COUNT(EMAIL) FROM YOMUL_MEMBERS WHERE LOWER(EMAIL) = LOWER('dia_changmin@naver.com');

-- 닉네임 중복 확인
SELECT COUNT(NICKNAME) FROM YOMUL_MEMBERS WHERE LOWER(NICKNAME) = LOWER('hwisaek');

-- 회원가입, 기본 비밀번호 '1234'
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE, AUTHORITY) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'admin@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '관리자', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on', 'ADMIN');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'yomul@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'yomul', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'hwisaek@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'Hwisaek', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'TEST', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'marin@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '해병', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'medic@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '메딕', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'ghost@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '유령', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'scv@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'SCV', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'tank@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '공성전차', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'drone@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '집게벌레', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'zergling@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '저글링', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'larva@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '라바', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'hydralisk@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '척추발사기', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'mutal@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '쓰리쿠션장인', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'probe@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '탐사정', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'zealot@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '광전사', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'dragoon@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '용기병', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'high_templar@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '고위기사', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'dark_templar@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '암흑기사', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'archon@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '집정관', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'dark_archon@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '암흑집정관', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'scout@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '정찰기', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'corsair@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '해적선', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');
INSERT INTO YOMUL_MEMBERS(NO, EMAIL, PW, NICKNAME, HASHSALT, SUBSCRIBE) VALUES('M'||YOMUL_MEMBERS_NO_SEQ.NEXTVAL, 'carrier@yomul.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', '우주모함', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 'on');

-- 로그인 
SELECT NO, EMAIL, NICKNAME, AUTHORITY FROM YOMUL_MEMBERS WHERE EMAIL = 'hwisaek@yomul.com' AND PW ='LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=';

-- SALT 얻기
SELECT HASHSALT FROM YOMUL_MEMBERS WHERE EMAIL = 'dia_changmin@naver.com';


-- 카카오톡 로그인
SELECT NO, NICKNAME, AUTHORITY FROM YOMUL_MEMBERS WHERE KAKAO_ID = '';

-- 프로필 정보 가져오기
SELECT NO, EMAIL, NICKNAME, PHONE, GENDER, INTRO, WITHDRAWAL FROM YOMUL_MEMBERS WHERE NO = 'M3'; -- 프로필 내용 가져오기
SELECT ARTICLE_NO, NO, FILENAME FROM YOMUL_FILES WHERE ARTICLE_NO = 'M3'; -- 프로필 사진 가져오기
SELECT COUNT(*) FROM YOMUL_TRADE_HISTORY WHERE SELLER = 'M3'; -- 판매 내역 수
SELECT COUNT(*) FROM YOMUL_TRADE_HISTORY WHERE BUYER = 'M3'; -- 구매 내역 수
SELECT COUNT(*) FROM YOMUL_FAVORITE_LISTS WHERE MEMBER_NO = 'M3'; -- 찜 목록 수

-- 프로필 정보 수정
UPDATE YOMUL_MEMBERS SET NICKNAME = 'Hwisaek2', PHONE = '010-1234-1234', GENDER = 'M', INTRO = '안녕하세요. 저는 Hwisaek2 입니다.' WHERE NO = 'M3'; -- 프로필 정보 수정
MERGE INTO YOMUL_FILES USING DUAL ON (ARTICLE_NO = 'M3')
			WHEN MATCHED THEN
				UPDATE SET FILENAME = '장범준.jpg' WHERE ARTICLE_NO = 'M3'
			WHEN NOT MATCHED THEN
				INSERT (ARTICLE_NO, NO, FILENAME) VALUES('M3', 0, '장범준.jpg');

-- 회원 탈퇴 신청
UPDATE YOMUL_MEMBERS SET WITHDRAWAL = 1 WHERE NO = 'M3';

-- 회원 탈퇴 취소
UPDATE YOMUL_MEMBERS SET WITHDRAWAL = 1 WHERE NO = 'M3';

-- 카카오톡 연동하기
UPDATE YOMUL_MEMBERS SET KAKAO_ID = NULL WHERE NO = 'M3';

-- 찜 목록 가져오기
SELECT *
FROM(
SELECT ROWNUM AS RNO, FL.*
FROM
(SELECT FL.PRODUCT_NO NO, P.TITLE, P.PRICE, M.NICKNAME SELLER_NICKNAME, F.IMG
FROM
(SELECT PRODUCT_NO
FROM YOMUL_FAVORITE_LISTS
WHERE MEMBER_NO = 'M1'
ORDER BY FDATE DESC) FL JOIN YOMUL_PRODUCTS P ON FL.PRODUCT_NO = P.NO JOIN YOMUL_MEMBERS M ON P.SELLER = M.NO
LEFT OUTER JOIN (SELECT IMG, ARTICLE_NO
FROM(SELECT	 ARTICLE_NO || '_' || NO || '_' || FILENAME IMG
							, ARTICLE_NO
						FROM YOMUL_FILES
            WHERE NO=1
            ORDER BY NO
            )) F ON P.NO = F.ARTICLE_NO) FL)
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 내가 쓴 글 목록
SELECT *
FROM(
SELECT ROWNUM AS RNO, NA.*
FROM(
SELECT NA.NO, WRITER, M.NICKNAME WRITER_NICKNAME, TITLE, CONTENT, NDATE, HITS, COMMENTS
FROM YOMUL_NEAR_ARTICLES NA JOIN YOMUL_MEMBERS M ON NA.WRITER = M.NO LEFT OUTER JOIN (
    SELECT ARTICLE_NO, COUNT(*) COMMENTS FROM YOMUL_COMMENTS GROUP BY ARTICLE_NO) C ON NA.NO = C.ARTICLE_NO
WHERE NA.WRITER = 'M1' AND NA.VENDOR IS NULL
ORDER BY TO_NUMBER(SUBSTR(NA.NO, 2)) DESC) NA)
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 내가 쓴 댓글 목록
SELECT *
FROM ( SELECT ROWNUM AS RNO, C.*, M.NICKNAME
            FROM ( SELECT NO,  WRITER, ARTICLE_NO, CONTENT, WDATE 
                        FROM YOMUL_COMMENTS
                        WHERE WRITER = 'M1' ORDER BY TO_NUMBER(SUBSTR(NO, 2, 10)) DESC) C
                        JOIN
                     ( SELECT NO, NICKNAME
                        FROM YOMUL_MEMBERS) M
                        ON C.WRITER = M.NO)
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 댓글 삭제
DELETE FROM YOMUL_COMMENTS WHERE NO = 'C24' AND WRITER = 'M3';

-- FAQ 카테고리 데이터 생성
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(1, '운영정책');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(2, '계정');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(3, '구매/판매');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(4, '거래 매너');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(5, '이용 제재');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(6, '비즈프로필');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(7, '동네생활');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(8, '내 근처');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(9, '채팅');
INSERT INTO YOMUL_FAQ_CATEGORIES(NO, CONTENT) VALUES(10, '기타');

-- QNA 카테고리 데이터 생성
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(1, '거래 환불/분쟁 및 사기 신고');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(2, '계정 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(3, '판매 금지/거래 품목 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(4, '매너평가, 매너온도, 거래후기 관련 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(5, '게시글 노출, 미노출 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(6, '채팅, 알림 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(7, '앱 사용/거래 방법 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(8, '동네 생활(커뮤니티) 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(9, '지역 광고 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(10, '비즈프로필(등록, 이용) 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(11, '검색 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(12, '기타 문의');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(13, '오류 제보');
INSERT INTO YOMUL_QNA_CATEGORIES(NO, CONTENT) VALUES(14, '개선/제안');

-- QNA 목록 불러오기
SELECT RNO, NO, TITLE, CONTENT, TO_CHAR(WDATE, 'YYYY-MM-DD') AS WDATE, RDATE, SECRET
FROM ( SELECT ROWNUM AS RNO, QA.*
            FROM ( SELECT *
                        FROM YOMUL_QNA_ARTICLES
                        ORDER BY TO_NUMBER(SUBSTR(NO, 2, 10)) DESC) QA)
            WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- QnA 상세보기
SELECT QA.NO, NAME, QA.EMAIL, TO_CHAR(WDATE, 'YYYY-MM-DD HH:MI') WDATE, CATEGORY, TITLE, CONTENT, HITS, TO_CHAR(RDATE, 'YYYY-MM-DD') RDATE, M.NICKNAME RWRITER, RCONTENT, SECRET FROM YOMUL_QNA_ARTICLES QA FULL JOIN YOMUL_MEMBERS M ON (QA.RWRITER = M.NO)  WHERE QA.NO = 'Q2';
SELECT ARTICLE_NO, NO, FILENAME FROM YOMUL_FILES WHERE ARTICLE_NO = 'Q2' ORDER BY NO;

-- QnA 비밀글 상세보기
SELECT QA.NO, NAME, QA.EMAIL, TO_CHAR(WDATE, 'YYYY-MM-DD') WDATE, CATEGORY, TITLE, CONTENT, HITS, TO_CHAR(RDATE, 'YYYY-MM-DD') RDATE, M.NICKNAME RWRITER, RCONTENT FROM YOMUL_QNA_ARTICLES QA FULL JOIN YOMUL_MEMBERS M ON (QA.RWRITER = M.NO)  WHERE QA.NO = 'Q1' AND QA.PW = 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=';
SELECT ARTICLE_NO, NO, FILENAME FROM YOMUL_FILES WHERE ARTICLE_NO = 'Q1' ORDER BY NO;

-- QnA HashSalt 가져오기
SELECT HASHSALT FROM YOMUL_QNA_ARTICLES WHERE NO = 'Q1';

-- QnA 비밀 글 비밀번호 확인
SELECT COUNT(*) FROM YOMUL_QNA_ARTICLES WHERE NO = 'Q1' AND PW ='LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=';

-- QnA 문의 내역 삭제하기
DELETE FROM YOMUL_QNA_ARTICLES WHERE NO = 'Q2' AND PW = '1234';

-- QNA 카테고리 데이터 불러오기
SELECT NO, CONTENT FROM YOMUL_QNA_CATEGORIES ORDER BY NO;

-- 다음에 작성할 문의하기 번호 가져오기
SELECT 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL AS NO FROM DUAL;

-- QNA 문의하기 작성
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, SECRET) VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '홍길동', 'test@youml.com',  'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', 1, '문의할게 있습니다', '이게 대체 뭐여!', 'off');
INSERT INTO YOMUL_FILES (ARTICLE_NO, NO, FILENAME) VALUES('Q2', 1, '신발사진1.jpg');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
INSERT INTO YOMUL_QNA_ARTICLES(NO, NAME, EMAIL, PW, HASHSALT, CATEGORY, TITLE, CONTENT, REPLY, RDATE, RWRITER, RCONTENT, SECRET)  VALUES( 'Q'||YOMUL_QNA_ARTICLES_NO_SEQ.NEXTVAL, '지나가던 사용자', 'test@test.com', 'LVQl5RjTdqE2oRywog3zjhXWnZfrI4La7JlTn7orAE4=', 'dsRPWSbFjBtmiscPw4mbph/RX9dvyI15OLs8Pq+JTKU=', '2', '문의제목', '문의내용', 1, SYSDATE, 'M3', '답변내용입니다', 'off');
  
-- FAQ 데이터 생성
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 1, 'M1', '제목1', '내용1');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 2, 'M1', '제목2', '내용2');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 3, 'M1', '제목3', '내용3');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 4, 'M1', '제목4', '내용4');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 5, 'M1', '제목5', '내용5');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 6, 'M1', '제목6', '내용6');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 7, 'M1', '제목7', '내용7');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 8, 'M1', '제목8', '내용8');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 9, 'M1', '제목9', '내용9');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 10, 'M1', '제목10', '내용10');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 1, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 2, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 3, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 4, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 5, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 6, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 7, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 8, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 9, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 10, 'M1', '제목이 이렇게 길면 다 보일까요 안보일까요 어떻게 생각하세요?', '내용이 보일 수도 있고 안 보일 수도 있는건데 뭘 신경쓰세요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 1, 'M1', '제목일거에요', '내용일거에요');
INSERT INTO YOMUL_FAQ_ARTICLES(NO, CATEGORY, WRITER, TITLE, CONTENT) VALUES('FA'||YOMUL_FAQ_ARTICLES_NO_SEQ.NEXTVAL, 2, 'M1', '제목이겠죠', '내용이겠죠');
SELECT * FROM YOMUL_FAQ_ARTICLES;

-- 공지사항 데이터 생성
INSERT INTO YOMUL_NOTICES(NO, WRITER, TITLE, CONTENT, NDATE) VALUES(CONCAT('N', YOMUL_NOTICES_NO_SEQ.NEXTVAL), 'M1', '제목1', '내용1', SYSDATE);
INSERT INTO YOMUL_NOTICES(NO, WRITER, TITLE, CONTENT, NDATE) VALUES(CONCAT('N', YOMUL_NOTICES_NO_SEQ.NEXTVAL), 'M1', '제목2', '내용2', SYSDATE);
INSERT INTO YOMUL_NOTICES(NO, WRITER, TITLE, CONTENT, NDATE) VALUES(CONCAT('N', YOMUL_NOTICES_NO_SEQ.NEXTVAL), 'M1', '제목3', '내용3', SYSDATE);
INSERT INTO YOMUL_NOTICES(NO, WRITER, TITLE, CONTENT, NDATE) VALUES(CONCAT('N', YOMUL_NOTICES_NO_SEQ.NEXTVAL), 'M1', '제목4', '내용4', SYSDATE);
INSERT INTO YOMUL_NOTICES(NO, WRITER, TITLE, CONTENT, NDATE) VALUES(CONCAT('N', YOMUL_NOTICES_NO_SEQ.NEXTVAL), 'M1', '제목5', '내용5', SYSDATE);

-- 테스트용 공지사항 파일 추가
INSERT INTO YOMUL_FILES(ARTICLE_NO, NO, FILENAME) VALUES('N1', 1, 'default.jpg');
INSERT INTO YOMUL_FILES(ARTICLE_NO, NO, FILENAME) VALUES('N1', 1, '신발사진1.jpg');

-- 공지사항 조회수 업데이트
UPDATE YOMUL_NOTICES SET HITS = HITS + 1 WHERE NO = 'N2';

-- 동네생활 글쓰기 저장
INSERT ALL
INTO YOMUL_TOWN_ARTICLES(NO,WRITER,CATEGORY,TITLE,CONTENT,HITS,TDATE) VALUES('TA'||YOMUL_TOWN_ARTICLES_NO_SEQ.NEXTVAL,'M1','우리동네질문','제목입니다','ㅈㄱㄴ',0,SYSDATE)
INTO YOMUL_FILES(ARTICLE_NO,NO,FILENAME) VALUES('TA'||YOMUL_TOWN_ARTICLES_NO_SEQ.NEXTVAL,1,'naver.png')
SELECT * FROM DUAL;

-- 업체 데이터 생성
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M1', '요물학원', '과외/클래스', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M2', '요물학원2', '동네구인구직', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M3', '요물3', '농수산물', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M4', '요물4', '중고차', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M5', '요물학원5', '과외/클래스', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M6', '요물6', '농수산물', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M7', '요물학원7', '과외/클래스', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M8', '요물8', '동네구인구직', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M9', '요물학원9', '과외/클래스', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M10', '요물10', '농수산물', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M11', '요물학원11', '과외/클래스', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M12', '요물12', '농수산물', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M13', '요물13', '중고차', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M14', '요물14', '과외/클래스', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M15', '요물15', '중고차', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
INSERT INTO yomul_vendors(NO, OWNER, NAME, CATEGORY, info, tel, addr)
    VALUES('V'||YOMUL_VENDORS_NO_SEQ.NEXTVAL, 'M16', '요물16', '동네구인구직', '요물학원입니다~', '010-1111-1111', '서울시 어디어디~');
    
-- 업체 데이터 확인
SELECT * FROM YOMUL_VENDORS;

-- 업체 탈퇴 신청
UPDATE YOMUL_VENDORS SET WITHDRAWAL = 1 WHERE NO = 'V1';
UPDATE YOMUL_VENDORS SET WITHDRAWAL = 1 WHERE NO = 'V3';
UPDATE YOMUL_VENDORS SET WITHDRAWAL = 1 WHERE NO = 'V12';

-- 내 근처 게시글 생성
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '제목입니다~', '중고차', 10000, '010-1111-1111', '내용입니다~', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '도배를 해야할까요...', '중고차', 10000, '010-1111-1111', '벽걸이 에어컨하다가 뗏은데 저렇게 다 벗겨져서요 액자같은거두면 괜찮을까요? 복층집이에요 이층이고어떤액자가 좋을까요', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '철제침대사이즈', '중고차', 10000, '010-1111-1111', '혹시 이런침대프레임 더블사이즈 보신적 잇으실까요ㅠㅠ 오늘의 집에서는 아무리 찾아도 없네요,,', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '세면대 리모델링 문의', '중고차', 10000, '010-1111-1111', '지금 사용중인 세면대가 상판 아래쪽에 설치가 되어 있어서 너무 불편하고 물도 많이 튀어서 관리도 너무 어렵네요세면대만 교체하고 싶은데 견적이 많이 나올까요?', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '식탁이랑 의자 컬러 좀 봐주세요', '중고차', 10000, '010-1111-1111', '얼마전에 홈테이블데코페어에서 홀프레츠 식탁보고 반해서 구매하려고 하는데 색상이 너무 고민되요 ㅠㅠ 몇개월 뒤에 입주할 아파트 주방 모습인데요,아이보리와 블랙 컬러 중 어떤 색상이 더 잘 어울릴까요? 식탁 의자는 위 사진에 있는 의자로 하려는데,아이보리, 그레이, 카멜 3가지 색상이 있더라구요~위 조합', 1);
INSERT INTO YOMUL_NEAR_ARTICLES(NO, WRITER, TITLE, CATEGORY, PRICE, HP, CONTENT, CHATCHECK) VALUES('n' || YOMUL_NEAR_ARTICLES_NO_SEQ.NEXTVAL, 'M1', '어떤색 패브릭이 잘 어울릴까요?', '중고차', 10000, '010-1111-1111', '집 수리 끝나면 곧 입주하는데 커튼, 침구 등 어떤색이 어울릴지 잘 모르겠습니다..조언 부탁 드릴게요', 1);

-- 내 근처 게시글 상세보기
SELECT N.NO, V.NO AS VNO, V.NAME AS WRITER, N.TITLE, N.CATEGORY, N.PRICE, N.HP, N.CONTENT, N.NDATE, N.CHATCHECK, N.HITS
FROM YOMUL_NEAR_ARTICLES N, YOMUL_VENDORS V
WHERE N.WRITER = V.OWNER AND N.NO = 'n1';

-- 댓글 생성
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate) values('C'||yomul_comments_no_seq.nextval,  'n1', 'M1', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
values('C'||yomul_comments_no_seq.nextval,  'n1', 'M2', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
VALUES('C'||yomul_comments_no_seq.nextval,  'n1', 'M3', '댓글입니다~', SYSDATE);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
VALUES('C'||yomul_comments_no_seq.nextval,  'n1', 'M4', '댓글입니다~', SYSDATE);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
values('C'||yomul_comments_no_seq.nextval,  'n1', 'M5', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
VALUES('C'||yomul_comments_no_seq.nextval,  'n1', 'M6', '댓글입니다~', SYSDATE);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
VALUES('C'||yomul_comments_no_seq.nextval,  'n1', 'M7', '댓글입니다~', SYSDATE);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
values('C'||yomul_comments_no_seq.nextval,  'n1', 'M8', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
values('C'||yomul_comments_no_seq.nextval,  'n1', 'M9', '댓글입니다~', sysdate);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
VALUES('C'||yomul_comments_no_seq.nextval,  'n1', 'M10', '댓글입니다~', SYSDATE);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
VALUES('C'||yomul_comments_no_seq.nextval,  'n1', 'M11', '댓글입니다~', SYSDATE);
INSERT INTO yomul_comments(NO, article_no, writer, CONTENT, wdate)
values('C'||yomul_comments_no_seq.nextval,  'n1', 'M12', '댓글입니다~', sysdate);

-- 댓글 목록 조회
SELECT writer, CONTENT, wdate, img
FROM ( SELECT ROWNUM AS rno, writer, CONTENT, wdate, img
            FROM ( SELECT m.nickname AS writer, c.CONTENT, c.wdate, img
                        FROM v_y_comments c, yomul_members m
                        where c.article_no = 'n1' and c.writer = m.no
                        ORDER BY c.NO)
            WHERE ROWNUM <= 10 * 1)
WHERE rno > 10 * (1 - 1);

-- 댓글 갯수 확인
select count(*)
FROM yomul_comments
WHERE article_no = 'N1'
GROUP BY article_no;

-- 업체 단골 등록
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M1');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M2');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M3');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M4');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M5');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M6');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M7');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M8');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M9');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M10');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M11');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M12');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M13');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M14');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M15');
INSERT INTO yomul_vendor_customers(vendor_no, customer_no) VALUES('V1', 'M16');

-- 업체 단골 해제
DELETE FROM yomul_vendor_customers
WHERE vendor_no = 'V1' AND customer_no = 'M2';

-- 업체 단골 수 확인
SELECT count(*)
FROM yomul_vendor_customers
WHERE vendor_no = 'V1'
group by vendor_no;

-- 좋아요 추가
INSERT into yomul_likes(article_no, member_no)
values('V1', 'M2');
INSERT INTO yomul_likes(article_no, member_no)
values('C1', 'M2');

-- 좋아요 취소
DELETE FROM yomul_likes
WHERE article_no = 'V1' AND member_no = 'M2';

-- 신고 추가
INSERT INTO yomul_reports(article_no, MEMBER_NO)
values('C1', 'M3');
INSERT INTO yomul_reports(article_no, MEMBER_NO)
values('C1', 'M4');
INSERT INTO yomul_reports(article_no, MEMBER_NO)
values('C1', 'M5');
INSERT INTO yomul_reports(article_no, MEMBER_NO)
values('C2', 'M3');

-- 뷰로 댓글 정보 확인
select * from yomul_comments;
select * from V_Y_COMMENTS;

-- 업체 정보 수정
update yomul_vendors
set 
info = '정보 수정 테스트',
tel = '010-1234-1234',
addr = '주소 수정 테스트'
WHERE NO = 'V1';

-- 업체 단골 목록 조회
select no, nickname, profileimg
from 	(select rownum as rno, no, nickname, profileimg
	FROM (SELECT m.NO, m.nickname, m.PROFILEimg
		FROM yomul_vendor_customers c, v_y_members m
		WHERE c.vendor_no = 'V1' and m.no = c.CUSTOMER_NO
		ORDER BY to_number(substr(m.NO, 2)))
	WHERE ROWNUM <= 10 * 1)
WHERE rno > 10 * (1 - 1);

-- 업체 리뷰 데이터
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M1', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M2', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M3', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M4', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M5', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M6', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M7', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M8', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M9', '리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M10', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M11', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M12', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M13', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M14', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M15', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');
INSERT INTO yomul_vendor_reviews(NO, vendor_no, member_no, CONTENT) VALUES('R'||yomul_vendor_reviews_no_seq.nextval, 'V1', 'M16', '리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~리뷰에요~~~~');

-- 업체 리뷰 목록 조회
select no, member_no, nickname, profileImg, content, hits, vdate
from (select rownum as rno, no, member_no, nickname, profileImg, content, hits, vdate
	from (select r.no, r.member_no, m.nickname, m.profileImg, r.content, r.hits, r.vdate
		from yomul_vendor_reviews r, v_y_members m
		WHERE r.vendor_no = 'V1' AND r.member_no = m.NO
		order by to_number(substr(r.no, 2)) desc)
	WHERE ROWNUM <= 10 * 1)
WHERE rno > 10 * (1 - 1);

-- 채팅 데이터 생성
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '경찰청 철창살은 외철창살이고 검찰청 철창살은 쌍철창살이다.', TO_DATE('2021-07-01 12:30', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '고려고교 교복은 고급교복이고 고려고교 교복은 고급원단을 사용했다.', TO_DATE('2021-07-01 13:44', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M3', 'M1', '뻗은가지 굽은가지 구부러진 가지 가지가지의 가지 올라가지 늦가지 찐가지 달린가지 조롱조롱 맺힌 가지 열린 가지 달린 가지 도롱도롱 달란 가지 젊은 가지 늙은 가지 나물할 가지 냉국 탈 가지 가지각색 가여놓아도 나 못 먹긴 마찬가지.', TO_DATE('2021-07-01 14:34', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '산 사람들과 선 사람 둘과 선사시대 사람들 속에 속해있는 사람들 속에서 선사람 둘을 솎아낼까. 선 사람 둘과 산 사람들과 선사시대 사람들 속에 섞여있는 선 사람들 속에 안 선 사람을 더 섞을까. 선사시대 사람들과 산 사람들과 선 사람 둘이 전부 서서 서로가 서로를 서로 솎아내려 할 때 선사시대 사람은 선 사람이나 안 선 사람이나 선한 사람이나 안 선 상태로 서로 손을 잡고 3433년 3월 13일 신시와 3시 33분 33초를 서로의 눈을 보며 말하자고 했다.', TO_DATE('2021-07-01 14:35', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M3', 'M1', '스위스에서 오셔서 산새들이 속삭이는 산림 숲속에서 수사슴을 샅샅이 수색해 식사하고 산 속 샘물로 세수하며 사는 삼십 삼살 샴쌍둥이 미세스 스미스씨와 미스터 심슨씨는 삼성 설립 사장의 회사 자산 상속자인 사촌의 사돈 김상속씨의 숫기있고 숭글숭글한 숫색시 삼성소속 식산업 종사자 김삼순씨를 만나서 삼성 수산물 운송수송 수색 실장에게 스위스에서 수사슴을 샅샅이 수색했던 것을 인정받아 스위스 수산물 운송 수송 과정에서 상해 삭힌 냄새가 나는 수산물을 수색해내는 삼성 소속 수산물 운송수송 수색 사원이 돼서 살신성인으로 쉴새없이 수색하다 산성수에 손이 산화되어 수술실에서 수술하게 됐는데 쉽사리 수술이 잘 안 돼서 심신에 좋은 산삼을 달여 슈르릅 들이켰더니 힘이 샘솟아 다시 몸사려 수색하다 삼성 소속 식산업 종사자 김삼순씨와 셋이서 삼삼오오 삼월 삼십 삼일 세시 삼십 삼분 삼십 삼초에 쉰 세살 김식사씨네 시내 스시식당에 식사하러 가서 싱싱한 샥스핀 스시와 삼색샤시참치스시를 살사소스와 슥슥삭삭 샅샅이 비빈 것과 스위스산 소세지를 샤샤샥 싹쓸어 입속에 쑤셔넣어 살며시 삼키고 스산한 새벽 세시 삼십 삼분 삼십 삼초에 산림 숲속으로 사라졌다는 스위스에서온 스미스씨 이야기', TO_DATE('2021-07-01 14:40', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '더 어려운 버전도 있다! 스위스에서 오셔서 산새들이 속삭이는 산림 숲속의 수사슴과 샘 속 송사리 새끼를 샅샅이 수색해 식사하고 산 속 고인돌 사이 샘물로 세수하며 살아가는 삼십 삼살 샴쌍둥이 미세스 스미스씨와 미스터 심슨씨는 삼성 설립 사장의 자상한 회사 자산 상속자인 사촌의 사돈이면서 수하물 수송 솜씨를 자랑하는 심삼속씨와 숫기있고 숭글숭글한 숫색시 삼성소속 식산업 종사자 심삼순씨를 만나서 삼성 소속 수산물 운송수송 수속 및 수색 담당 실장에게 스위스에서 수사슴을 수색했던 것을 인정받아 스위스산 수산물 운송 수송 과정에서 상해 삭힌 냄새가 나는 수산물을 샅샅이 수색해내는 삼성 수산물 운송수송 소속 수색 사원이 되자 산 속을 맨발바닥 두 손바닥 열 발가락 닳게 방방곡곡 뒤져 깊은 숲 산기슭 속 수풀 깊숙이 팔꿈치를 꿈틀꿈틀거려 찾아낸 스위스연방 지도 지리지를 들고 풀숲 샘물 속 수산물을 쉴새없이 수색하다 삼림 산성수 수색 담당 신상순 씨가 실수로 수송한 삼림 산성수 통 삼 톤에 의해 손가락 세 가닥과 열 발가락이 산화되어 응급실 수술실에서 응급수술하게 되었는데 수술실 실수로 쉽사리 수술이 잘 안되어 수술실 식사로 나온 산양삼삼계탕을 삼키지 못하자 심신에 좋다는 산삼을 달인 달콤한 홍삼산삼차를 슈르릅 들이켰더니 힘이 샘물 솟듯이 솟아 신상순 씨의 삼림 산성수 수송 수속 중 일어난 수술 건을 과실치사상죄로 고소하였지만 산성수 수색 담당 신상순 씨의 삼촌인 삼성 소속 식산업 종사자 심삼순씨의 사과로 셋이서 삼삼오오 삼월 삼십일일 세 시 삼십분 삼십 삼초에 쉰 세 살 김식사씨네 시내 스시식당에 시스루 룩으로 식사하러 가서 신선한 샥스핀 스시와 싱싱한 삼색샤시참치스시를 살사소스에 살살 슥삭슥삭 비빈 것과 스위스산 소세지 세 접시를 샤사샥 싹슬어 입속에 쑤셔넣어 살며시 삼키고 스산한 새벽 세시 십삼분 삼십 삼초에 숲 속 산림 산기슭 구석 풀숲 속으로 사라졌다.', TO_DATE('2021-07-01 16:50', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '경찰청 철창살은 외철창살이고 검찰청 철창살은 쌍철창살이다.', TO_DATE('2021-07-02 12:30', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M2', '경찰청 철창살은 외철창살이고 검찰청 철창살은 쌍철창살이다.', TO_DATE('2021-07-03 12:31', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '경찰청 철창살은 외철창살이고 검찰청 철창살은 쌍철창살이다.', TO_DATE('2021-07-04 12:33', 'YYYY-MM-DD HH24:MI'));
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT, CDATE) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M4', '경찰청 철창살은 외철창살이고 검찰청 철창살은 쌍철창살이다.', TO_DATE('2021-07-05 12:35', 'YYYY-MM-DD HH24:MI'));

-- 채팅하기
INSERT INTO YOMUL_CHATS(NO, CHAT_FROM, CHAT_TO, CONTENT) VALUES('CH'||YOMUL_CHATS_NO_SEQ.NEXTVAL, 'M1', 'M3', '경찰청 철창살은 외철창살이고 검찰청 철창살은 쌍철창살이다.');

-- 채팅 대상 조회
SELECT C.CHAT_FROM, C.CDATE, M.NICKNAME CHAT_FROM_NICKNAME
FROM (
SELECT CHAT_FROM, MAX(CDATE) CDATE
FROM ( SELECT CHAT_TO AS CHAT_FROM, CDATE
          FROM YOMUL_CHATS
          WHERE CHAT_FROM = 'M1'
          UNION
          SELECT CHAT_FROM AS CHAT_FROM, CDATE FROM YOMUL_CHATS WHERE CHAT_TO = 'M1')
GROUP BY CHAT_FROM) C
JOIN YOMUL_MEMBERS M ON C.CHAT_FROM = M.NO
ORDER BY CDATE DESC;

-- 채팅 내역 조회
SELECT NO, CHAT_FROM, CHAT_TO, CONTENT, TO_CHAR(CDATE, 'YYYY"년" MM"월" DD"일" HH24:MM:SS') CDATE
FROM YOMUL_CHATS
WHERE (CHAT_FROM = 'M1' AND CHAT_TO = 'M3') OR (CHAT_FROM = 'M3' AND CHAT_TO = 'M1')
ORDER BY CDATE;

-- 물건 카테고리 등록
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(0, '기타');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(1, '디지털기기');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(2, '생활가전');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(3, '가구/인테리어');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(4, '유아동');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(5, '생활/가공식품');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(6, '유아도서');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(7, '스포츠/레저');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(8, '여성잡화');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(9, '여성의류');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(10, '남성패션/잡화');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(11, '게임/취미');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(12, '뷰티/미용');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(13, '반려동물용품');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(14, '도서/티켓/음반');
INSERT INTO YOMUL_PRODUCT_CATEGORIES(NO, CONTENT) VALUES(15, '식물');

-- 물건 등록
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');
INSERT INTO YOMUL_PRODUCTS(NO, CATEGORY_NO, SELLER, TITLE, CONTENT, PRICE, LOCATION) VALUES('P'||YOMUL_PRODUCTS_NO_SEQ.NEXTVAL, 1, 'M3', '물건입니다', '이 물건은 영국으로부터 시작한 행운의 편지로 아주 좋은 물건입니다.', 39800, '하남시 풍산동');

-- 물건 목록 가져오기
SELECT *
FROM ( SELECT ROWNUM AS RNO, P.*
          FROM ( SELECT P.NO, P.TITLE, P.CONTENT, NVL(L.LIKES, 0) LIKES, NVL(C.COMMENTS, 0) COMMENTS, IMG
                      FROM YOMUL_PRODUCTS P
                                LEFT OUTER JOIN (SELECT ARTICLE_NO, COUNT(*) LIKES FROM YOMUL_LIKES GROUP BY ARTICLE_NO) L ON P.NO = L.ARTICLE_NO
                                LEFT OUTER JOIN (SELECT ARTICLE_NO, COUNT(*) COMMENTS FROM YOMUL_COMMENTS GROUP BY ARTICLE_NO) C ON P.NO = C.ARTICLE_NO
                                LEFT OUTER JOIN (SELECT ARTICLE_NO || '_' || NO || '_' || FILENAME IMG, ARTICLE_NO FROM YOMUL_FILES) F ON P.NO = F.ARTICLE_NO
                      ORDER BY TO_NUMBER(SUBSTR(P.NO, 2)) DESC) P)
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 물건 상세보기
SELECT P.NO, CATEGORY_NO, PC.CONTENT CATEGORY_CONTENT, SELLER, M.NICKNAME SELLER_NICKNAME, TITLE, P.CONTENT, PRICE, STATE, HITS, PDATE, P.LOCATION
FROM YOMUL_PRODUCTS P JOIN YOMUL_PRODUCT_CATEGORIES PC ON P.CATEGORY_NO = PC.NO
  JOIN YOMUL_MEMBERS M ON P.SELLER = M.NO
WHERE P.NO = 'P34';

-- 물건 좋아요
SELECT COUNT(*) FROM YOMUL_LIKES WHERE ARTICLE_NO = 'P34' AND MEMBER_NO = 'M1';
DELETE FROM YOMUL_LIKES WHERE ARTICLE_NO = 'P34' AND MEMBER_NO = 'M1';
INSERT INTO YOMUL_LIKES(ARTICLE_NO, MEMBER_NO) VALUES('P34', 'M1');

-- 물건 북마크
SELECT COUNT(*) FROM YOMUL_FAVORITE_LISTS WHERE PRODUCT_NO = 'P49';
SELECT COUNT(*) FROM YOMUL_FAVORITE_LISTS WHERE PRODUCT_NO = 'P34' AND MEMBER_NO = 'M1';
DELETE FROM YOMUL_FAVORITE_LISTS WHERE PRODUCT_NO = 'P34' AND MEMBER_NO = 'M1';
INSERT INTO YOMUL_FAVORITE_LISTS(PRODUCT_NO, MEMBER_NO) VALUES('P34', 'M1');

-- 물건 판매 처리
UPDATE YOMUL_PRODUCTS SET STATE = 'SOLD' WHERE NO = 'P49';
INSERT INTO YOMUL_TRADE_HISTORY(NO, PRODUCT_NO, BUYER) VALUES('TH'||YOMUL_TRADE_HISTORY_NO_SEQ.NEXTVAL, 'P49', 'M1');

-- 업체 소식 추가
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 10000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 20000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 30000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 30000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 30000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 40000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 50000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 60000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 60000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 60000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 60000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 110000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 120000, '010-1111-1111', '내용~');
INSERT INTO yomul_near_articles(NO, writer, vendor, title, CATEGORY, price, hp, CONTENT) VALUES('n'||yomul_near_articles_no_seq.nextval, 'M1', 'V1', '소식입니다', '중고차', 130000, '010-1111-1111', '내용~');

-- 데이터 입력 끝----------------------------------------------------------------------------------------------------------------------------------
-- 사용자 페이지 끝----------------------------------------------------------------------------------------------------------------------------------

-- 관리자 페이지 시작----------------------------------------------------------------------------------------------------------------------------------

-- 회원 검색 페이지당 10개씩
SELECT RNO, NO, EMAIL, NICKNAME, PHONE, MDATE, WITHDRAWAL
FROM ( SELECT ROWNUM AS RNO, M.*
            FROM ( SELECT TO_NUMBER(SUBSTR(NO, 2)) AS NO_NUM, NO, EMAIL, NICKNAME, NVL(PHONE, ' ') AS PHONE, MDATE, WITHDRAWAL
                        FROM YOMUL_MEMBERS 
                        WHERE LOWER(NICKNAME) LIKE(LOWER('%hwisaek%')) OR LOWER(EMAIL) LIKE(LOWER('%HWISAEK%'))
                        ORDER BY NO_NUM DESC) M)
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 검색된 회원 총 페이지 수 구하기
SELECT CEIL(COUNT(*)/10) TOTAL_PAGE FROM YOMUL_MEMBERS WHERE NICKNAME LIKE('%' || 'hwisaek' || '%') OR EMAIL LIKE('%' || 'hwisaek' || '%');

-- 회원 삭제
DELETE FROM YOMUL_MEMBERS WHERE NO = 'M24' AND WITHDRAWAL = 1;

-- 물건 검색 페이지당 10개씩
		SELECT
			  RNO
					, NO
					, TITLE
					, SELLER
					, PDATE
          , SELLER_NICKNAME
		FROM
		(
			SELECT
				ROWNUM AS RNO
				, P.*
			FROM
			(
				SELECT
					  TO_NUMBER(SUBSTR(P.NO, 2)) AS NO_NUM
					, P.NO
					, TITLE
					, SELLER
					, PDATE
          , M.NICKNAME SELLER_NICKNAME
				FROM
					YOMUL_PRODUCTS P JOIN YOMUL_PRODUCT_CATEGORIES PC ON P.CATEGORY_NO = PC.NO JOIN YOMUL_MEMBERS M ON P.SELLER = M.NO
				WHERE
              LOWER(P.TITLE) LIKE ('%' || LOWER('물') || '%')
            OR  LOWER(P.CONTENT) LIKE ('%' || LOWER('물') || '%')
            OR  LOWER(PC.CONTENT) LIKE ('%' || LOWER('물') || '%')
				ORDER BY
					NO_NUM DESC
			) P
		)
		WHERE
				RNO > 10 * (2 - 1) 
      AND RNO <= 10 * 2;

-- 물건 삭제
DELETE FROM
			YOMUL_PRODUCTS
		WHERE
			NO = 'P39'
	     And (SELLER = 'M1' OR 'ADMIN' = 'ADMIN');

-- 검색된 물건 총 페이지 수 구하기
SELECT
			CEIL(COUNT(*)/10) TOTAL_PAGE
		FROM
			YOMUL_PRODUCTS P JOIN YOMUL_PRODUCT_CATEGORIES PC ON P.CATEGORY_NO = PC.NO
		WHERE
				LOWER(P.TITLE) LIKE ('%' || LOWER('물') || '%')
			OR  LOWER(P.CONTENT) LIKE ('%' || LOWER('물') || '%')
			OR  LOWER(PC.CONTENT) LIKE ('%' || LOWER('물') || '%');

-- 업체 목록 불러오기
SELECT *
FROM( SELECT ROWNUM AS RNO, NO, OWNER, NAME, CATEGORY, TEL, ADDR, WITHDRAWAL
        FROM( SELECT TO_NUMBER(SUBSTR(NO, 2)) NO_NUM, NO, OWNER, NAME, CATEGORY, TEL, ADDR, WITHDRAWAL
                FROM YOMUL_VENDORS 
                WHERE
                LOWER(NAME) LIKE ('%' || LOWER('요물') || '%')
                OR LOWER(CATEGORY) LIKE ('%' || LOWER('요물') || '%')
                OR ADDR LIKE ('%' || '요물' || '%')
                ORDER BY NO_NUM DESC
            ) 
	)
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 업체관리 총 페이지 수
SELECT CEIL(COUNT(*)/10) TOTAL_PAGE
FROM YOMUL_VENDORS
WHERE
LOWER(NAME) LIKE ('%' || LOWER('요물') || '%')
OR LOWER(CATEGORY) LIKE ('%' || LOWER('요물') || '%')
OR ADDR LIKE ('%' || '요물' || '%');

-- 업체 삭제
DELETE FROM YOMUL_VENDORS
WHERE NO = 'V3' AND WITHDRAWAL = 1;

-- 내 근처 글 목록 불러오기
SELECT *
FROM ( SELECT ROWNUM AS RNO, NA.*
            FROM ( SELECT NA.NO, TITLE, NA.CATEGORY, PRICE, NDATE, V.NO AS VNO, V.NAME AS WRITER
                        FROM YOMUL_NEAR_ARTICLES NA LEFT JOIN YOMUL_VENDORS V ON NA.WRITER = V.OWNER
                        ORDER BY TO_NUMBER(SUBSTR(NA.NO, 2, 10)) DESC) NA
            )
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 내 근처 글 상세보기
SELECT N.NO, V.NO AS VNO, V.NAME AS WRITER, N.TITLE, N.CATEGORY, N.PRICE, N.HP, N.CONTENT, N.NDATE, N.CHATCHECK, N.HITS, N.FILES
FROM V_Y_NEAR_ARTICLES N, YOMUL_VENDORS V
WHERE N.WRITER = V.OWNER AND N.NO = 'n2';

-- 내 근처 글 삭제
DELETE FROM YOMUL_NEAR_ARTICLES WHERE NO = 'n2' AND 'ADMIN' = 'ADMIN';

-- 공지사항 작성
INSERT INTO YOMUL_NOTICES(NO, WRITER, TITLE, CONTENT) VALUES('N'||YOMUL_NOTICES_NO_SEQ.NEXTVAL, 'M1', '테스트', '공지내용');

-- 공지사항 수정
UPDATE YOMUL_NOTICES SET WRITER='M1', TITLE='테스트', CONTENT='공지내용' WHERE NO='N2';

-- 공지사항 삭제
DELETE FROM YOMUL_NOTICES WHERE NO = 'N3';

-- FAQ 목록 
SELECT *
FROM ( SELECT ROWNUM AS RNO, NO, CATEGORY_NO, CATEGORY, WRITER, TITLE, CONTENT
        FROM ( SELECT TO_NUMBER(SUBSTR(NO, 3)) NO_NUM, NO, CATEGORY_NO, CATEGORY, WRITER, TITLE, CONTENT
               FROM V_Y_FAQ_ARTICLES
               WHERE
               CATEGORY LIKE ('%' || '제목1' || '%')
               OR
               TITLE LIKE ('%' || '제목1' || '%')
               OR
               CONTENT LIKE ('%' || '제목1' || '%')
               ORDER BY NO_NUM DESC
               )
        )
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- FAQ 글 수정
UPDATE YOMUL_FAQ_ARTICLES
SET CATEGORY = '1', WRITER = 'M1', TITLE = '제목 수정합니다', CONTENT = '내용 수정합니다'
WHERE NO = 'FA20';

-- FAQ 게시글 삭제
DELETE FROM YOMUL_FAQ_ARTICLES WHERE NO = 'FA23';

-- QnA 불러오기
SELECT *
FROM ( SELECT ROWNUM AS RNO, NO, NAME, EMAIL, TITLE, CONTENT, WDATE, REPLY, SECRET
            FROM ( SELECT *
                        FROM YOMUL_QNA_ARTICLES
                        WHERE 1=1 AND REPLY = 1 AND CATEGORY = 2
                        ORDER BY TO_NUMBER(SUBSTR(NO, 2, 10)) DESC)
            )
WHERE RNO > 10 * (1 - 1) AND RNO <= 10 * 1;

-- 관리자 QnA 상세보기
SELECT QA.NO, NAME, QA.EMAIL, WDATE, CATEGORY, QC.CONTENT CATEGORY_CONTENT, TITLE, QA.CONTENT, HITS, TO_CHAR(RDATE, 'YYYY-MM-DD') RDATE, REPLY, M.NICKNAME RWRITER, RCONTENT, SECRET 
FROM YOMUL_QNA_ARTICLES QA LEFT OUTER JOIN YOMUL_MEMBERS M ON (QA.RWRITER = M.NO)  LEFT OUTER JOIN YOMUL_QNA_CATEGORIES QC ON (QA.CATEGORY = QC.NO)
WHERE QA.NO = 'Q29';
SELECT ARTICLE_NO, NO, FILENAME FROM YOMUL_FILES WHERE ARTICLE_NO = 'Q29' ORDER BY NO;

-- 관리자 QnA 답변 등록
UPDATE YOMUL_QNA_ARTICLES SET REPLY = 1, RDATE = SYSDATE, RWRITER = 'M1', RTITLE = '123435', RCONTENT = '124132' WHERE NO = 'Q30' AND REPLY = 0 AND 'ADMIN' = 'ADMIN';

-- 관리자 페이지 끝----------------------------------------------------------------------------------------------------------------------------------
COMMIT;



                  